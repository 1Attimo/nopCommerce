@model InstallModel
@using Nop.Web.Models.Install
@using Nop.Web.Infrastructure.Installation
@*localization service for installation service
    we do not use standard nopCommerce localization because database is not installed yet
    locale resources for installation process are stored into \App_Data\Localization\Installation directory*@
@inject IInstallationLocalizationService ILS



<div id="postgreSqlConnectionInfo" class="connectionInfos">
    <hr />
    <div class="form-group">
        <div class="col-xs-7 col-xs-offset-4">
            <div class="checkbox">
                <label>
                    <input asp-for="SqlServerCreateDatabase"/>
                    @ILS.GetResource("CreateDatabaseIfDoesNotExist")
                </label>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-xs-4">
            <label class="control-label">
                @ILS.GetResource("ConnectionString")
            </label>
        </div>
        <div class="col-xs-7">
            <div class="radio">
                <label>
                    <input asp-for="SqlConnectionInfo" value="sqlconnectioninfo_values" type="radio" checked="@(Model.SqlConnectionInfo == "sqlconnectioninfo_values")" id="sqlconnectioninfo_values" />
                    @ILS.GetResource("ConnectionStringValues")
                </label>
            </div>
            <div class="radio">
                <label>
                    <input asp-for="SqlConnectionInfo" value="sqlconnectioninfo_raw" type="radio" checked="@(Model.SqlConnectionInfo == "sqlconnectioninfo_raw")" id="sqlconnectioninfo_raw" />
                    @ILS.GetResource("RawConnectionString")
                </label>
            </div>
        </div>
    </div>
    <div id="sqlDatabaseInfo">
        <div class="credentials">
            <div class="form-group">
                <div class="col-xs-4">
                    <label class="control-label">
                        @ILS.GetResource("SqlServerName")
                    </label>
                </div>
                <div class="col-xs-7">
                    <input asp-for="SqlServerName" class="form-control"/>
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-4">
                    <label class="control-label">
                        @ILS.GetResource("SqlServerPort")
                    </label>
                </div>
                <div class="col-xs-7">
                    <input asp-for="SqlServerPort" class="form-control"/>
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-4">
                    <label class="control-label">
                        @ILS.GetResource("DatabaseName")
                    </label>
                </div>
                <div class="col-xs-7">
                    <input asp-for="SqlDatabaseName" class="form-control" />
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-4">
                <label class="control-label">
                    @ILS.GetResource("SqlServerName")
                </label>
            </div>
            <div class="col-xs-7">
                <div class="radio">
                    <label>
                        <input asp-for="SqlAuthenticationType" value="sqlauthentication" type="radio" checked="@(Model.SqlAuthenticationType == "sqlauthentication")" id="sqlauthenticationtype_sql" />
                        @ILS.GetResource("SqlAuthentication")
                    </label>
                </div>
            </div>
        </div>
        <div class="credentials" id="pnlSqlServerCredentials">
            <div class="form-group">
                <div class="col-xs-4">
                    <label class="control-label">
                        @ILS.GetResource("SqlServerUsername")
                    </label>
                </div>
                <div class="col-xs-7">
                    <input asp-for="SqlServerUsername" class="form-control" />
                </div>
            </div>
            <div class="form-group">
                <div class="col-xs-4">
                    <label class="control-label">
                        @ILS.GetResource("SqlServerPassword")
                    </label>
                </div>
                <div class="col-xs-7">
                    <input asp-for="SqlServerPassword" class="form-control" />
                </div>
            </div>
        </div>
    </div>
    <div class="form-group" id="sqlDatabaseConnectionString">
        <div class="col-xs-4">
            <label class="control-label">
                @ILS.GetResource("ConnectionString")
            </label>
        </div>
        <div class="col-xs-7">
            <input asp-for="DatabaseConnectionString" class="form-control" />
            <span class="hint">
                @ILS.GetResource("Example"):<br />
                User ID=root;Password=myPassword;Host=localhost;Port=5432;Database=myDataBase;
                Pooling=true;Min Pool Size=0;Max Pool Size=100;Connection Lifetime=0;
                <br />
                Find more info <a href="http://www.connectionstrings.com/" target="_blank">here</a>
            </span>
        </div>
    </div>
    <div class="form-group" id="sqlConnectionInfo">
        <div class="col-xs-7 col-xs-offset-4">
            <div class="checkbox">
                <label>
                    <input asp-for="UseCustomCollation" />
                    @ILS.GetResource("CustomCollation")
                </label>
                <input asp-for="Collation" class="form-control margin-t-10"/>
            </div>
        </div>
    </div>
</div>


<script>
    var connectionInfo = connectionInfo || {};
    connectionInfo["provider_postgresql"] = $('#postgreSqlConnectionInfo').html();
    $('#postgreSqlConnectionInfo').html('');
</script>